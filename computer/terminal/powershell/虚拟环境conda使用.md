[TOC]

# 简介

&emsp;&emsp;这一部分主要是弄虚拟环境的，上学期学python的时候，老师在第一次布置作业的时候，问了这么一个问题，"充分理解“不同python开发环境中安装的拓展库无法共用，在一个开发环境中安装的拓展库无法在另一个开发环境中使用。”，请阐述你的理解。"。对于新入门python的人来说，肯定非常非常难以理解这句话，因为刚开始入门，根本不可能做过大的项目，怎么可能会有自己独到的见解呢？而且在进行项目之前，很难去讨论环境的问题，存在对应环境的问题，也一定是在实践中所遇到过的。来看看我当时是怎么作答的，看着答案，思考我当时的能力，100%是搜的答案，大体看看就行。

&emsp;&emsp;"我觉得，开发环境具有分隔的特点，不同的开发环境，对python的拓展是相互独立的，可能是为了避免一个项目使用的特定版本库不会干扰其他项目，同时，也不会被其他项目干扰。另外，还有路径的独立性。python通过sys.path查找模块或拓展库，每个环境的sys.path配置是独立的，因此，一个环境中安装的库，并不会出现在另一个环境的路径中，导致无法共用。当然，还包括库的版本不同，导致无法共用"

&emsp;&emsp;说的很好啊，可是当时真的理解明白了吗？我第一次安装python的时候，是跟着b站视频安装的，一顿行云流水下来安装完了，可是具体操作的意义却不懂，比如配置环境变量，不知道什么含义。另外再加上对vscode的不熟悉，导致会存在很多问题。当时我安装了两个版本，一个3.9，一个3.12.2，只记得那个视频说，可以灵活更换python的环境，但对当时的我来说真的有用吗？我真的需要切换环境吗？当时的需求只是能运行就行。可是看着视频，稀里糊涂地操作下来，人家也不告诉你为什么，只是跟着做就行，导致存在很多不必要的操作。

&emsp;&emsp;随着进一步地学习，逐渐理解了环境的重要性，虽然通过pip在python3.12.2的环境中安装了很多包，也没有出现什么问题，但是随着理解的提升，也明确了灵活搭配环境的重要性。

&emsp;&emsp;起因是在manim的学习中，本来一直使用vscode，一直没有问题，而昨天看到了一个jupyter的manim操作使用方法，感觉很不错，打算模仿，可是却发现存在问题，不知道为什么。由于我的manim下载在python的3.12.2中，运行不出来的问题可能是jupyter拓展包安装python的环境跟manim不同，导致问题产生。而视频的展示是在python的虚拟环境中，所以我也打算创立虚拟环境，为以后做准备。
# 一、conda基本使用方式
## 1、创建与退出

- **创建对应python环境**

~~~
conda create --name test1 python=3.9
~~~

&emsp;&emsp;会显示基础的python安装包，并且会自动安装

- **激活虚拟环境**

~~~
conda activate test1
~~~

- **退出虚拟环境**

~~~
conda deactivate
~~~



## 2、查看已安装命令

- 查看方法

~~~
conda env list
~~~

## 3、删除创建环境

- 删除方法

~~~
conda remove --name test1 --all
~~~

&emsp;&emsp;--all是将所有包都删除

## 4、安装新的软件包

- 查看所有已安装包

~~~
conda list
~~~

- 安装新的安装包

~~~
conda install
~~~

## 5、环境包复制

- 先进入待复制环境test1

~~~
conda activate test1
~~~

- 打印安装好的包

~~~
conda list --explicit> ~/Desktop/testa.txt
~~~

- 退出该环境

~~~
conda deactivate
~~~

- 进入新的环境

~~~
conda activate testb
~~~

- 安装

~~~
conda install --file ~/Desktop/testa.txt
~~~

## 注意

&emsp;&emsp;这里使用conda安装包，是在国外安装的，可能会很慢，可以通过清华镜像站来安装，具体更改方式这里不展示了。

&emsp;&emsp;上面的命令行是在mac操作系统下进行的，不确定windows操作系统下是否能够运行。

# 二、conda其他操作使用方式



## 1、是否安装conda

~~~
conda --version
~~~

## 2、更新conda

~~~
conda update conda
~~~

&emsp;&emsp;这里面其实有很多点，最重要的是将其放到环境变量下面，否则无法使用。

## 3、顺便也可以更新anacoda

~~~
conda update anaconda
~~~

&emsp;&emsp;conda有几种安装方式，比如直接安装anaconda，但其本身就是python的idle，没必要安装，建议安装更轻量级的。

## 4、通过conda也可以更新python

~~~
conda update python
~~~

&emsp;&emsp;注意，这里不是更新本地的python，而是conda环境下的python。终端理解深刻的话，这里其实很容易明白，我也不再多说。

## 5、查看conda中python版本

~~~
conda search python
~~~

&emsp;&emsp;你猜怎么着，从python2.7到python最新版全都有！这其实就明确了conda创建虚拟环境的能力所在。

## 6、查看conda信息

~~~
conda info
~~~



# 三、常见问题解答

## 我使用conda安装python的包，是默认安装最新包，并且可以指定包的版本吗？

&emsp;&emsp;是的，使用 Conda 安装 Python 包时，默认会安装最新版本的包，并且你也可以指定安装特定版本的包。下面举了例子。

- 安装最新的包

~~~
conda install numpy

~~~



- 安装指定版本的包

~~~
conda install numpy=1.18.5
~~~

- 查看当前所有版本的包

~~~
conda search numpy
~~~

另有问题直接问ai就行，道理说的大差不差

# 四、实践反馈

&emsp;&emsp;在使用conda之前，我其实有很多问题，上面的第三大点是我本来想汇总出来的，刚才又觉得都是ai答案，有问题自己去问去就行，没必要再在这里总结了。但是刚才在vscode中实操了一下，很多问题都迎刃而解，比如，我一开始不确定虚拟环境中的包是否重新安装，我问了gpt，给我的感觉是需要重新安装，然后经过上面看conda存储了python的方式，我以为包管理类似，但实际上并不是这样，自己实操测试一下就行。



&emsp;&emsp;最后还是出现了一点小问题，但整体影响不大。在powershell终端配置conda虚拟环境，按照上述步骤准备好后，最后时刻会显示重启终端，点击重启后会报错。原因是有的盘中，文件夹是用中文命名的，导致一些路径无法识别，从而无法使用。而我当时认为是我安装的vscode或者anaconda中路径有中文，从而产生影响。所以全部卸载，重新安装，并确保当前磁盘一级目录没有中文名称。后来测试中发现，还是会出现错误，原因是检测了所有盘的初始文件夹，只要有中文，就会报错。但此时在终端中随便输入后回车，就能返回powershell终端，输入命令行还能运行，也没什么问题。只不过每次打开需要这么操作一下，毕竟将所有文件名改为中文也不现实。有一个好的方法是将默认终端改为cmd终端，这样不会产生任何问题。但是在命令行输入命令的话，初始没有代码高亮，看着也不是很舒服，所以我还是选择用powershell终端，等后续有更好的解决方法的话，再去解决。
